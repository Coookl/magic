DATA SEGMENT
    BUF DB  50,?,50 DUP('$')
    LEN DB  $-BUF
DATA ENDS

STACK SEGMENT
;堆栈段
STACK  ENDS

CODE SEGMENT
    ASSUME  CS:CODE,DS:DATA
    START:
    MOV AX,DATA
    MOV DS,AX
    LEA DX,BUF

    MOV AH,0AH
    INT 21H
    MOV SI,2
    MOV CL,BUF[1]

    LEA DX,BUF[2]
    MOV DL,0AH
    MOV AH,02H
    INT 21H
    MOV DL,0DH
    MOV AH,02H
    INT 21H
CHECK:
    MOV AL,BUF[SI]
    CMP AL,40H;A-1
    JNA OUTPUT
    CMP AL,'Z'
    JNA NEXT
    CMP AL,60H;a-1
    JNA OUTPUT
    CMP AL,7AH
    JNA NEXT
    JMP OUTPUT
OUTPUT:
    MOV DL,BUF[SI]
    MOV AH,02H
    INT 21H
    JMP NEXT
NEXT:
    INC SI
    DEC CX
    CMP CX,0
    JE  JIESHU
    JMP CHECK
JIESHU:
    MOV AH,4CH
    INT 21H
CODE ENDS
    END START